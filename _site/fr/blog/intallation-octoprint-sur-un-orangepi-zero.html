<!DOCTYPE html>
<html lang="fr">
 <head>
  <meta charset="utf-8"/>
  <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
  <link href="/includes/post.css" rel="stylesheet"/>
  <link href="/includes/global.css" rel="stylesheet"/>
  <script defer="" src="/includes/main.js">
  </script>
  <script defer="" src="/includes/post.js">
  </script>
  <link href="https://electronique.cc/fr/blog/intallation-octoprint-sur-un-orangepi-zero" rel="canonical"/>
  <link async="" href="https://use.typekit.net/pnu1ybg.css" rel="stylesheet"/>
  <link href="/images/favicon.png" rel="icon">
   <link href="/images/favicon.png" rel="icon"/>
   <title>
    Installation d'Octoprint sur un Orangepi zero - electronique.cc
   </title>
  </link>
 </head>
 <body>
  <header>
   <a href="/fr">
    <img alt="Logo de electronique.cc" class="logo" src="/images/logo.png"/>
   </a>
   <nav>
    <p class="menu-toggle">
     Menu
    </p>
    <ul class="nav-list">
     <a class="language-switcher" href="#">
      <li class="nav-item">
       English
      </li>
     </a>
     <a class="nav-link" href="/fr">
      <li class="nav-item">
       Accueil
      </li>
     </a>
     <a class="nav-link" href="/fr/blog/index.html">
      <li class="nav-item">
       Blog
      </li>
     </a>
     <a class="nav-link" href="/fr/shop/index.html">
      <li class="nav-item">
       Boutique
      </li>
     </a>
    </ul>
   </nav>
  </header>
  <div class="header-spacer">
  </div>
  <section class="main">
   <div class="post-content">
    <img alt="post main image" class="post-main-image" src="/images/installation-octoprint-sur-un-orangepi-zero/En-avant.png"/>
    <h1>
     Installation d'Octoprint sur un Orangepi zero
    </h1>
    <p>
     L'inflation et la pénurie de composants électroniques ont engendré ces deux dernières années un forte augmentation des prix des cartes raspberry et pénurie de ces micro-ordinateurs. C'est pourquoi aujourd'hui nous allons voir comment installer octoprint, le célèbre système de gestion d'imprimantes 3d à distance, sur une carte Orangepi, moins chère, telle que l'orange pi zero dans notre cas.
    </p>
    <h2>
     Prérequis matériel
    </h2>
    <p>
     Comme matériel il vous faudra:
    </p>
    <ul>
     <li>
      Un orangepi Zero
     </li>
     <li>
      Un cable ethernet
     </li>
     <li>
      Une carte microSD de 8 GO au minimum
     </li>
     <li>
      Une alimentation USB C de
      <strong>
       3A
      </strong>
      minimum c'est très important
     </li>
     <li>
      Un câble d'alimentation
     </li>
     <li>
      Un câble usb A vers la connectique de votre imprimante
     </li>
    </ul>
    <h2>
     Prérequis logiciel
    </h2>
    <p>
     Pour performer l'installation, vous aurez besoin de multiples logiciels et fichier, que nous allons voir un par un de suite:
    </p>
    <h3>
     Installation de Angry IP scanner
    </h3>
    <p>
     Un premier logiciel qu'il nous faudra installer est
     <a href="https://angryip.org">
      Angry IP scanner
     </a>
     . Il s'agit d'un logiciel qui permettra de scanner votre réseau internet pour trouver son adresse ip.
    </p>
    <p>
     Vous pouvez le télecharger en cliquant
     <a href="https://angryip.org/download/#windows">
      ici
     </a>
     , en choisissant la version Windows installer.
    </p>
    <h3>
     Installation de Balena Etcher
    </h3>
    <p>
     Le logiciel
     <a href="https://www.balena.io/etcher/">
      Balena Etcher
     </a>
     vous permettera de préparer votre carte microSD pour l'orangePI.
    </p>
    <p>
     Vous pouvez le télecharger en cliquant
     <a href="https://www.balena.io/etcher/">
      ici
     </a>
     .
    </p>
    <h3>
     Télechargement de Armbian
    </h3>
    <p>
     <a href="https://www.armbian.com">
      Armbian
     </a>
     sera le système d'exploitation que nous allons installer sur notre carte microSD. Il vous faut télecharger l'image disque de Armbian pour orangepi Zero
     <a href="https://www.armbian.com/orange-pi-zero/#:~:text=Torrent%20download-,Direct%20download,-Check%20other%20download">
      ici
     </a>
     en choisissant bien Direct download.
    </p>
    <h2>
     Installation d'Armbian
    </h2>
    <h3>
     Préparation de la carte microSD
    </h3>
    <p>
     Vous allez maintenant ouvrir logiciel Balena Etcher et brancher votre carte microSD à votre ordinateur.
    </p>
    <div class="images">
     <div class="image">
      <img alt="Etcher-1.0" src="/images/installation-octoprint-sur-un-orangepi-zero/Etcher-1.0.png"/>
      <blockquote class="image-caption">
       Vue du logiciel Etcher
      </blockquote>
     </div>
    </div>
    <p>
     Le logiciel Etcher
    </p>
    <p>
     Vous allez cliquer sur Select image et ouvrir le fichier Armbian précedemment télechargé, puis choisir Select drive et choisir votre carte microSD et enfin pressez Flash! et attendez que l'operation se términe.
    </p>
    <p>
     Une fois cette opération terminée vous pourrez débrancher votre carte microSD de votre ordinateur.
    </p>
    <h3>
     Préparation de l'orangePI
    </h3>
    <p>
     Nous allons tout d'abord brancher notre carte microSD dans son emplacement dédie au dessous de notre orangePI.
    </p>
    <div class="images">
     <div class="image">
      <img alt="Orangepi-schematic-up" src="/images/installation-octoprint-sur-un-orangepi-zero/Orangepi-schematic-up.png"/>
      <blockquote class="image-caption">
       Vue du dessus d'un orangePI zero
      </blockquote>
     </div>
     <div class="image">
      <img alt="Orangepi-schematic-down" src="/images/installation-octoprint-sur-un-orangepi-zero/Orangepi-schematic-down.png"/>
      <blockquote class="image-caption">
       Vue du dessous d'un orangePI zero
      </blockquote>
     </div>
    </div>
    <p>
     Ensuite, vous allez brancher votre orangePI à votre box internet au moyen du câble ethernet puis brancher l'alimentation.
    </p>
    <h3>
     Recherche de l'addresse IP
    </h3>
    <p>
     Vous allez maintenant ouvrir le logiciel Angry Ip Scanner et démarrer un balayage de votre réseau local en cliquant sur démarrer .
    </p>
    <div class="images">
     <div class="image">
      <img alt="Ip scanner view" src="/images/installation-octoprint-sur-un-orangepi-zero/ipscan_1.png"/>
      <blockquote class="image-caption">
       Vue du logiciel Angry Ip Scanner
      </blockquote>
     </div>
    </div>
    <p>
     Une fois le scan terminé, trouvez dans la colonne hostame le nom qui s'apparente à orangePI. Si il n'y apparait pas, relancez un second scan.
    </p>
    <p>
     Notez l'addresse ip marquée dans la colonne IP.
    </p>
    <h3>
     Configuration d'Armbian
    </h3>
    <p>
     Maintenant pressez la combinaison de touches Windows + R, tapez
     <code>
      cmd
     </code>
     dans le champ ouvrir puis pressez ok.
    </p>
    <div class="images">
     <div class="image">
      <img alt="Winr cmd" src="/images/installation-octoprint-sur-un-orangepi-zero/winr_cmd.png"/>
      <blockquote class="image-caption">
       La fenêtre exécuter
      </blockquote>
     </div>
    </div>
    <p>
     Dans la fenêtre qui va s'ouvrir vous taperez la commade suivante:
     <code>
      ssh root@**votre_addresse_ip**
     </code>
     puis comme mot de passe vous taperes
     <code>
      1234
     </code>
     . Vous devriez normalement voir un texte ressemblant au suivant s'afficher à l'écran:
    </p>
    <div class="images">
     <div class="image">
      <img alt="Ssh root" src="/images/installation-octoprint-sur-un-orangepi-zero/ssh_root.png"/>
      <blockquote class="image-caption">
       La session ssh root
      </blockquote>
     </div>
    </div>
    <p>
     Vous allez taper un nouveau mot de passe pour l'utilisateur root, qui est l'administrateur du système. A noter que
     <strong>
      ce que vous tapez n'est pas visible
     </strong>
     pour des raisons de sécurité.
    </p>
    <p>
     Une fois cela terminé, poursuivez avec le étapes suivantes comme indiqué sur l'image suivante.
    </p>
    <div class="images">
     <div class="image">
      <img alt="Ssh root 2" src="/images/installation-octoprint-sur-un-orangepi-zero/ssh_root_2.png"/>
      <blockquote class="image-caption">
       La session ssh root
      </blockquote>
     </div>
    </div>
    <p>
     Vous devrez créer un nouvel utilisateur, nommé pi, et lui définir un mot de passe, que nous appelleront par la suite
     <strong>
      mot de passe pi
     </strong>
     . Lorsque vous serez ivites à choisir le pays, veillez à bien choisir fr_FR.UTF-8.
    </p>
    <p>
     Une fois l'installation terminée tapez la commande exit.
    </p>
    <h2>
     Installation d'octoprint
    </h2>
    <p>
     Dans votre terminal, tapez la commande suivante
     <code>
      ssh pi@**votre_adresse_ip**
     </code>
     vous pouvez aussi coller les commandes dans le terminal en cliquant droit. Lors des étapes suivantes, si l'on vous demande à un moment donné de confirmer avec un Oui ou un Yes, faites-le.
    </p>
    <p>
     Tapez ensuite le
     <strong>
      mot de passe pi
     </strong>
     et une fois connecté executez la commande suivante:
    </p>
    <p>
     <code>
      sudo apt-get update &amp;&amp; sudo apt-get upgrade -y
     </code>
    </p>
    <p>
     Vous serez invités à taper votre mot de psse. Tapez le
     <strong>
      mot de passe pi
     </strong>
     .
    </p>
    <p>
     Une fois ces commandes terminées, tapez celle-ci:
    </p>
    <p>
     <code>
      sudo apt-get install -y python-pip python-dev python-setuptools python-virtualenv git libyaml-dev build-essential libffi-dev virtualenv
     </code>
    </p>
    <p>
     Maintenant executez la commande suivante pour crées un dossier OctoPrint et y accéder.
    </p>
    <p>
     <code>
      mkdir OctoPrint &amp;&amp; cd OctoPrint
     </code>
    </p>
    <p>
     Puis cette commande ci:
    </p>
    <p>
     <code>
      virtualenv venv
     </code>
    </p>
    <p>
     Et celle la:
    </p>
    <p>
     <code>
      source venv/bin/activate
     </code>
    </p>
    <p>
     Puis en suite cette commande
    </p>
    <p>
     <code>
      pip install pip --upgrade
     </code>
    </p>
    <p>
     Et enfin celle ci. Elle va prendre un moment, et c'est normal.
    </p>
    <p>
     <code>
      pip install octoprint
     </code>
    </p>
    <p>
     Tapez ces deux dérnières commanes:
    </p>
    <p>
     <code>
      sudo usermod -a -G tty pi
     </code>
    </p>
    <p>
     <code>
      sudo usermod -a -G dialout pi
     </code>
    </p>
    <p>
     Une fois cette dernière commande terminée, rendez vous dans votre navigateur internet et tapez
     <strong>
      votre_adresse_ip
     </strong>
     :5000 les deux points sont importants.
    </p>
    <p>
     Lors de la configuration d'octoprint, il vous sera demandé d'indiquer les commandes permettant de gérer le système, les voici:
    </p>
    <p>
     Redémarrer OctoPrint:
     <code>
      sudo service octoprint restart
     </code>
    </p>
    <p>
     Redémarrer le système:
     <code>
      sudo reboot now
     </code>
    </p>
    <p>
     Eteindre système:
     <code>
      sudo shutdown -h now
     </code>
    </p>
    <p>
     Vous pourrez alors configurer Octoprint.
    </p>
    <p>
     Une fois la configuration terminée, vous pouvez retourner dans le terminal et taper le raccourci clavier ctrl+c.
    </p>
    <h3>
     Activation du démarrage automatique d'Octoprint
    </h3>
    <p>
     Vous allez maintenant éxecuter les commandes suivantes:
    </p>
    <p>
     <code>
      wget https://github.com/Paillat-dev/OctoPrint-Orangepi-scripts/raw/master/scripts/octoprint.init &amp;&amp; sudo mv octoprint.init /etc/init.d/octoprint
     </code>
    </p>
    <p>
     <code>
      wget https://github.com/Paillat-dev/OctoPrint-Orangepi-scripts/raw/master/scripts/octoprint.default &amp;&amp; sudo mv octoprint.default /etc/default/octoprint
     </code>
    </p>
    <p>
     Et ces deux autres:
    </p>
    <p>
     <code>
      sudo chmod +x /etc/init.d/octoprint
     </code>
    </p>
    <p>
     <code>
      sudo chmod +x /etc/default/octoprint
     </code>
    </p>
    <p>
     Ensuite cette commande pour confirmer les changements:
    </p>
    <p>
     <code>
      sudo update-rc.d octoprint defaults
     </code>
    </p>
    <p>
     Voilà, votre octoprint est désormais installé et pret à être utilisé.
    </p>
    <h3>
     Facultatif - Installation du wifi
    </h3>
    <p>
     Pour installer le wifi vous devrez exécuter quelques commandes supplémentaires.
    </p>
    <p>
     La première est:
     <code>
      nmtui-connect **SSID**
     </code>
     ou
     <strong>
      SSID
     </strong>
     est le nom de votre réseau WiFi.
    </p>
    <p>
     Vous devrez ensuite taper votre mot de passe WiFi et enfin sélectionner ok, puis entrée.
    </p>
    <h3>
     Définir une adresse IP statique
    </h3>
    <p>
     Pour défiir l'adressse ip comme statique, tapez la commande suivante:
    </p>
    <p>
     <code>
      sudo armbian-config
     </code>
    </p>
    <p>
     Dans le menu, naviquez avec les fleches et sélectionnez Networking
    </p>
    <div class="images">
     <div class="image">
      <img alt="Armbian wifi" src="/images/installation-octoprint-sur-un-orangepi-zero/armbian-wifi.webp"/>
      <blockquote class="image-caption">
       Le menu Networking
      </blockquote>
     </div>
    </div>
    <p>
     Choisissez votre connexion WiFi, puis Static, tapez entrée, puis vous pouvez quitter le menu.
    </p>
    <p>
     Voilà, j'espère que cet article vous aura plu, n'hésitez pas à laisser un commentaire, et à la prochaine!
    </p>
   </div>
   <div id="disqus_thread">
   </div>
   <script>
    /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables    */
        /*
    var disqus_config = function () {
    this.page.url = https://electronique.cc/fr/blog/intallation-octoprint-sur-un-orangepi-zero;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = intallation-octoprint-sur-un-orangepi-zero; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
    };
    */
        (function () {
          // DON'T EDIT BELOW THIS LINE
          var d = document,
            s = d.createElement("script");
          s.src = "https://eletronique-cc.disqus.com/embed.js";
          s.setAttribute("data-timestamp", +new Date());
          (d.head || d.body).appendChild(s);
        })();
   </script>
   <noscript>
    Please enable JavaScript to view the
    <a href="https://disqus.com/?ref_noscript">
     comments.
    </a>
   </noscript>
  </section>
  <footer>
   <p>
    © 2022 electronique.cc. Tous droits réservés.
   </p>
  </footer>
 </body>
</html>
